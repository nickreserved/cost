<HTML>

<HEAD>
<TITLE>Στρατιωτικές Δαπάνες::Διάφορα</TITLE>
<META http-equiv=Content-Type content="text/html; charset=iso-8859-7">
<link href="style.css" type=text/css rel=stylesheet>
</HEAD>

<BODY>


<H1>Διάφορα</H1>


<H2><a name="log"></a>Το παράθυρο σφαλμάτων του PHP</H2>

<img src="log.png">
<p>Κάθε φορά που επιλέγετε από το menu «Εξαγωγή» μια επιλογή, τρέχουν ορισμένα PHP scripts προκειμένου να μας δώσουν το εξαγόμενο αρχείο. Αν δεν έχετε συμπληρώσει σωστά τα πεδία στις διάφορες καρτέλες του προγράμματος, υπάρχει πολύ μεγάλη πιθανότητα τα PHP scripts να αποτύχουν να δημιουργήσουν το εξαγόμενο αρχείο. Αν τα script διαπιστώσουν λάθη τότε ανοίγει το δεξιά παράθυρο και εμφανίζει τα λάθη που συνέβησαν.
<p>Με το έντονο πράσινο χρώμα εμφανίζεται το αρχείο στο οποίο συνέβει το σφάλμα. Με το έντονο κόκκινο χρώμα εμφανίζεται η γραμμή στο αρχείο που συνέβει το σφάλμα. Με το μπλέ χρώμα εμφανίζεται το μύνημα του σφάλματος.
<p>Για παράδειγμα το σφάλμα στο παράθυρο που βλέπετε είναι οτι ο χειριστής δεν έδωσε τιμή στα πεδία «ΕΦ» και στο πεδίο «Ποσότητα» του είδους του τιμολογίου. Εφόσον όμως δεν έδωσε την «Ποσότητα» αυτό δημιούργησε μια χιονοστοιβάδα σφαλμάτων: Το πεδίο «ΣυνολικήΤιμή» απέτυχε να οριστεί επειδή ορίζεται ως «Ποσότητα» x «ΤιμήΜονάδας».
<p>Να δίνετε μεγάλη προσοχή στα λάθη που εμφανίζει αυτό το παράθυρο. Έχει τύχει σε αρκετό κόσμο να κάθεται και να σπάει το κεφάλι του για το τί φταίει ενώ στην πραγματικότητα να του λέει τι φταίει το ίδιο το παράθυρο.


<H2><a name="tables"></a>Οι πίνακες</H2>

<a href="bills.png"><img src="bills.png" width="333"></a>
<p>Το πρόγραμμα χρησιμοποιεί κάποιους πίνακες για να καταχωρείτε δεδομένα. Οι πίνακες χωρίζονται σε δύο κατηγορίες:
<ul>
	<li>Αυτούς που έχουν στα αριστερά τους το όνομα της ιδιότητας και οι εγγραφές τους είναι όσες και οι ιδιότητες στα αριστερά. Οι εγγραφές τους δεν μπορούν να αυξηθούν. (π.χ. ο κάτω -τρίτος- πίνακας στην εικόνα).
	<li>Αυτούς με μεταβλητό αριθμό εγγραφών, που μπορούμε δηλαδή να καταχωρούμε κι άλλες εγγραφές. (π.χ. οι δύο πάνω πίνακες στην εικόνα).
</ul>
<p>Εδώ θα ασχοληθούμε με την δεύτερη κατηγορία πινάκων. Οι πίνακες αυτοί όπως είπαμε παίρνουν μεταβλητό αριθμό εγγραφών. Π.χ. μπορεί να χρειαστεί να προσθέσουμε ένα προμηθευτή ή να αφαιρέσουμε κάποιον.
<p>Υπάρχουν 2 τρόποι για να αφαιρέσουμε κάποια εγγραφή από τέτοιο πίνακα:
<ul>
	<li>Επιλέγουμε όσες εγγραφές θέλουμε να διαγράψουμε (αν επιτρέπεται πολλαπλή επιλογή, ειδάλλως μία-μία) και πατάμε το πλήκτρο <b>delete</b>. Το πρόγραμμα θα μας ζητήσει επιβεβαίωση.
	<li>Για να διαγράψουμε την τρέχουσα εγγραφή, αρκεί να αδειάσουμε όλα τα κελιά της. Αν σβύσουμε δηλαδή στην καρτέλα "Προσωπικό Μονάδας" το "Βαθμός", "Ονοματεπώνυμο" και "Μονάδα" μιας εγγραφής, τότε αυτή θα εξαφανιστεί. Αυτό όμως δεν είναι δυνατόν παντού. Π.χ. στον πίνακα με τα τιμολόγια δεν μπορούμε να σβύσουμε τον τύπο του τιμολογίου.
</ul>
<p>Υπάρχουν επίσης 2 τρόποι για να προσθέσουμε κάποια εγγραφή στον πίνακα:
<ul>
	<li>Πατάμε το πλήκτρο <b>insert</b> και αυτόματα εισάγεται μια κενή εγγραφή στη θέση που βρισκόμαστε. Αυτή η δυνατότητα δεν ισχύει για όλους τους πίνακες βέβαια. Να προτιμάτε την παρακάτω μέθοδο.
	<li>Η τελευταία εγγραφή κάθε πίνακα είναι κενή. Αν καταχωρήσετε κάτι εκεί, αυτομάτως δημιουργείται μια κενή εγγραφή πιο κάτω. Αποτέλεσμα είναι να υπάρχει πάντα μια κενή εγγραφή (η τελευταία) έτοιμη για καταχώρηση.
</ul>
<p>Επιπρόσθετα, πατώντας στην επικεφαλίδα μιας από τις στήλες αυτών των πινάκων, όλες οι εγγραφές του πίνακα ταξινομούνται με αύξουσα σειρά, με βάση τα δεδομένα της στήλης αυτής. Η ταξινόμηση δεν ισχύει για τον πίνακα των Τιμολογίων, των Εργασιών καθώς και του Φύλλου Καταχώρησης.
<p>Τέλος, κάνοντας δεξί κλικ στην επικεφαλίδα του πίνακα της καρτέλας κρατήσεων, εμφανίζεται ένα αναδυόμενο μενού που μας δίνει τη δυνατότητα να προσθέσουμε κι άλλους τύπους κρατήσεων.


<H2><a name="run_close"></a>Εκκίνηση και τερματισμός</H2>

<H3><a name="run"></a>Εκκίνηση</H3>

<p>Επιτρέπεται μόνο μια διεργασία από το πρόγραμμα να είναι ανοικτή. Αν πάτε να ανοίξετε άλλη τότε η δεύτερη τερματίζει αμέσως. Αν έχετε δώσει ονόματα αρχείων στη γραμμή εντολής ώστε να ανοίξει κάποιες δαπάνες, τότε πριν τερματίσει, στέλνει στην πρώτη τα ονόματα. Για να επιτευχθεί αυτό, το πρόγραμμα ανοίγει ένα listening socket στο port 666. Αν το firewall σας εμφανίσει μύνημα μην φοβηθείτε. Επιτρέψτε το για πάντα. Πιθανόν όταν τρέχετε το πρόγραμμα να μην μπορείτε να παίξετε multiplayer το παιχνίδι Doom επειδή χρησιμοποιεί το ίδιο port.
<p>Μετά από αυτό, το πρόγραμμα ελέγχει αν υπάρχει ο PHP Command Line Interpreter. Για τους χρήστες των windows θα πρέπει να υπάρχουν τα αρχεία <b>php.exe</b> και <b>php5ts.dll</b> στο φάκελο των windows. Αν υπάρχει τον δοκιμάζει να δει αν δουλεύει.
<p>Τέλος φορτώνει το αρχείο «cost.ini» που περιέχει όλα τα σταθερά στοιχεία του προγράμματος δηλαδή τους προμηθευτές, το προσωπικό μονάδας, τις κρατήσεις, τα αμετάβλητα στοιχεία και επιπλέον τις ρυθμίσεις του προγράμματος και τις δαπάνες που ήταν ανοικτές πριν κλείσει το πρόγραμμα.

<H3><a name="close"></a>Τερματισμός και Αυτόματη Αποθήκευση</H3>

<p>Όταν τερματίζει το πρόγραμμα, σώζει όλα τα στοιχεία του στο αρχείο «cost.ini». Συγκεκριμένα αποθηκεύει τους προμηθευτές, το προσωπικό μονάδας, τις κρατήσεις, τα αμετάβλητα στοιχεία και επιπλέον τις ρυθμίσεις του προγράμματος και τις δαπάνες που είναι ανοικτές. Όταν το πρόγραμμα θα ξανατρέξει θα βρεθεί ακριβώς στην κατάσταση που ήταν πριν κλείσει. Όλες οι δαπάνες που είχε ανοικτές πριν κλείσει θα επανέλθουν.
<p>Επιπρόσθετα το πρόγραμμα κάνει autosave το αρχείο «cost.ini» κάθε 5 λεπτά. Αυτό συμβαίνει επειδή το πρόγραμμα μπορεί να παραμείνει ανοικτό για πολύ ώρα και μια πτώση τάσης ή κάτι παρόμοιο μπορεί να οδηγήσει σε πολλές χαμένες εργατοώρες.


<H2><a name="scripts"></a>Scripts</H2>

<p>Με το πρόγραμμα παρέχονται μερικά scripts σε γλώσσα php τα οποία έχουν ρόλο βοηθήματος. Αυτά βρίσκονται στο φάκελο scripts.

<H3><a name="script_men"></a>Script men.php</H3>

<p>Αν έχετε το προσωπικό της Μονάδας σας σε αρχείο του Excel ή του OpenOffice και βαριέστε να ξαναπληκτρολογήσετε όλα τα ονόματα στο πρόγραμμα τότε κάνετε τα εξής:
<ul>
	<li>Στη στήλη "Α" του λογιστικού φύλλου (Excel ή OpenOffice) τοποθετήστε τους βαθμούς του προσωπικού ξεκινώντας από τη γραμμή "1" και προς τα κάτω.
	<li>Απο δίπλα στη στήλη "Β" τοποθετήστε τα ονοματεπώνυμα.
	<li>Απαγορεύεται να χρησιμοποιήσετε στα κελιά, τους χαρακτήρες <b>tab</b>, <b>,</b>, <b>"</b> και <b>'</b>.
	<li>Αποθηκεύστε το φύλλο όχι σαν <b>xls</b> αλλά σαν <b>csv</b>.
	<li>Στη συνέχεια τρέξτε το php script ώς εξής: <b>php men.php "import.csv" "directory_of_cost.ini"</b>.
	<li>Όλο το προσωπικό της Μονάδας που βρίσκονταν στο «cost.ini» έχει σβυστεί και έχει αντικατασταθεί από αυτό του αρχείου <b>csv</b>.
</ul>


<H2><a name="commandline"></a>Γραμμή Εντολών</H2>

<p>Στη γραμμή εντολών μπορείτε να δώσετε παραμέτρους στο προγράμμα, ονόματα αρχείων από δαπάνες που θέλετε να ανοίξει το πρόγραμμα.
<p>π.χ.: <b>cost.jar "Νέα Δαπάνη - 1.cost" dapanh_gala.cost "Χαρτικά 60ευρώ.cost"</b>.


<H2><a name="contactus"></a>Επικοινωνία</H2>

<p>Το πρόγραμμα για να φτιαχτεί χρειάστηκε χρόνο, και φτιάχτηκε για το κοινό μας όφελος. Είναι κρίμα αν βρείτε ένα bug να το πετάξετε στην άκρη. Το σωστότερο που έχετε να κάνετε είναι να επικοινωνήσετε μαζί μου. Μπορεί το bug να μην επιλυθεί αμέσως, αλλά θα επιλυθεί σύντομα. Είναι κρίμα να πάει χαμένη μια τόσο μεγάλη προσπάθεια.
<p>Το email μου είναι <a href="mailto:gessos.paul@gmail.com?subject=Στρατιωτικές Δαπάνες&body=Παύλο">gessos.paul@gmail.com</a>.
<p>Η σελίδα του προγράμματος είναι <a href="http://programs.agiasofia.gr/?program=cost" target="_blank">http://sourceforge.net/projects/ha-expenditure/</a>.


</BODY></HTML>